/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var m=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var A=Object.prototype.hasOwnProperty;var S=(r,t)=>{for(var e in t)m(r,e,{get:t[e],enumerable:!0})},T=(r,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of y(t))!A.call(r,i)&&i!==e&&m(r,i,{get:()=>t[i],enumerable:!(o=f(t,i))||o.enumerable});return r};var q=r=>T(m({},"__esModule",{value:!0}),r);var L=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)};var c=(r,t,e)=>(L(r,t,"read from private field"),e?e.call(r):t.get(r)),a=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)};var n=(r,t,e)=>(L(r,t,"access private method"),e);var x={};S(x,{default:()=>p});module.exports=q(x);var g=require("obsidian");var s,l,E,d,v,u,k,h,w,p=class extends g.Plugin{constructor(){super(...arguments);a(this,l);a(this,d);a(this,u);a(this,h);a(this,s,new Set)}onload(){this.app.workspace.on("file-open",()=>{n(this,l,E).call(this)}),n(this,l,E).call(this)}onunload(){c(this,s).forEach(e=>{let o=e.view.containerEl.querySelector(".cm-content");n(this,h,w).call(this,o)})}};s=new WeakMap,l=new WeakSet,E=function(){this.app.workspace.iterateAllLeaves(e=>{if(e.view.getViewType()==="markdown"&&!c(this,s).has(e)){c(this,s).add(e);let o=e.view.containerEl.querySelector(".cm-content");if(!o)return;n(this,u,k).call(this,o);let i=e.view.onunload;e.view.onunload=()=>{c(this,s).delete(e),n(this,h,w).call(this,o),i(),e.view.onunload=i}}})},d=new WeakSet,v=function(e){e.target.tagName==="A"&&!e.ctrlKey&&(e.preventDefault(),e.stopPropagation())},u=new WeakSet,k=function(e){e.addEventListener("click",n(this,d,v),{capture:!0})},h=new WeakSet,w=function(e){e.removeEventListener("click",n(this,d,v),{capture:!0})};

/* nosourcemap */